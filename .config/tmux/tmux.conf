set -g  default-terminal "tmux-256color"
set -ga terminal-overrides ",*256col*:Tc"
set -s  escape-time 1                     # faster command sequences
set -sg repeat-time 1000                  # increase repeat timeout
set -s  focus-events on
set -g  base-index 1
set -g  pane-base-index 1

set -g  history-limit 10000
set -g  set-clipboard on
set -s  escape-time 0

# Identifying activity in other windows
setw -g monitor-activity on
set -g visual-activity on

setw -g  mode-keys vi
set  -g  mouse on
unbind-key C-b
set -g prefix 'C-j'

# bind-key
bind-key R source-file ~/.config/tmux/tmux.conf \; display-message "tmux.conf Reloaded"

# copy-mode
bind-key -T copy-mode-vi 'C-[' send-keys -X cancel
bind-key -T copy-mode-vi x send-keys -X copy-selection-and-cancel
bind-key -T copy-mode-vi v send-keys -X begin-selection
# bind-key -T copy-mode-vi y send-keys -X copy-selection
bind-key -T copy-mode-vi y send-keys -X copy-pipe 'if [ $XDG_SESSION_TYPE == wayland ]; then wl-copy; else xclip -i -selection c; fi'
# TODO: copy and paste
# bind-key -T copy-mode-vi p send-keys -X cancel

# vi-mode
# hjkl pane traversal
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

bind-key H resize-pane -L 5
bind-key J resize-pane -D 5
bind-key K resize-pane -U 5
bind-key L resize-pane -R 5

bind-key C-n new-window

bind-key P paste-buffer

bind-key -r C-h select-window -t :-
bind-key -r C-l select-window -t :+

#unbind '"' # unbind horizontal split
#unbind %   # unbind vertical split
bind-key - split-window -v # split pane horizontally
bind-key | split-window -h # split pane vertically
bind-key \\ split-window -h # split pane vertically

# List Tmux panes
bind-key Space list-panes

# cursor
set -g cursor-style blinking-bar

set -g status-interval 1000
set -g status-left-length 32
set -g status-right-length 150

# set -g status-justify centre
set -g status-position top
set -g status-justify centre
set -g status-style fg=white

set -g status-left "#[fg=#afafaf,bg=#fafafa] #S #[fg=black,bg=#6996e0] #I #[fg=black,bg=#76af6f] #P "
set -g status-right '#[fg=#ffffff,bg=#3a8b84] #(cut -d " " -f 1-3 /proc/loadavg) #[default]#[fg=#ffffff,bg=#5079be] %H:%M #[default]'

# border colours
set -g pane-border-style fg=magenta
set -g pane-active-border-style "bg=default fg=magenta"

# set -g @plugin 'tmux-plugins/tmux-open'

# git clone https://github.com/tmux-plugins/tpm ~/.local/lib/tpm
# run '~/.local/lib/tpm/tpm'
